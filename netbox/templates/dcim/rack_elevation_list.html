{% extends 'base/layout.html' %}
{% load helpers %}
{% load static %}

{% block title %}Rack Elevations{% endblock %}

{% block controls %}
    <div class="controls">
        <div class="control-group">
            <button class="btn btn-sm btn-outline-dark toggle-images" selected="selected">
                <span class="mdi mdi mdi-checkbox-marked-circle-outline" aria-hidden="true"></span> Show Images
            </button>
            <div class="btn-group btn-group-sm" role="group">
                <a href="{% url 'dcim:rack_elevation_list' %}{% querystring request face='front' %}" class="btn btn-outline-secondary{% if rack_face == 'front' %} active{% endif %}">Front</a>
                <a href="{% url 'dcim:rack_elevation_list' %}{% querystring request face='rear' %}" class="btn btn-outline-secondary{% if rack_face == 'rear' %} active{% endif %}">Rear</a>
            </div>
            <div class="btn-group btn-group-sm" role="group">
                <a href="{% url 'dcim:rack_elevation_list' %}{% querystring request reverse=None %}" class="btn btn-outline-secondary{% if not reverse %} active{% endif %}">Normal</a>
                <a href="{% url 'dcim:rack_elevation_list' %}{% querystring request reverse='true' %}" class="btn btn-outline-secondary{% if reverse %} active{% endif %}">Reversed</a>
            </div>
        </div>
    </div>
{% endblock %}

{% block tabs %}
  <ul class="nav nav-tabs px-3">
    {% block tab_items %}
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="rack-elevations-tab" data-bs-toggle="tab" data-bs-target="#rack-elevations" type="button" role="tab" aria-controls="edit-form" aria-selected="true">
          Rack Elevations
          {% badge page.paginator.count %}
        </button>
      </li>
      {% if filter_form %}
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="filters-form-tab" data-bs-toggle="tab" data-bs-target="#filters-form" type="button" role="tab" aria-controls="object-list" aria-selected="false">
            Filters
          </button>
        </li>
      {% endif %}
    {% endblock tab_items %}
  </ul>
{% endblock tabs %}

{% block content-wrapper %}
  <div class="tab-content">

    {# Rack elevations #}
    <div class="tab-pane show active" id="rack-elevations" role="tabpanel" aria-labelledby="rack-elevations-tab">
      {% if page %}
          <div style="white-space: nowrap; overflow-x: scroll;">
              {% for rack in page %}
                  <div style="display: inline-block; margin-right: 12px; width: 254px">
                  <div style="margin-left: 30px">
                      <div class="text-center">
                          <strong><a href="{% url 'dcim:rack' pk=rack.pk %}">{{ rack.name }}</a></strong>
                          {% if rack.role %}
                              <br /><span class="badge my-3" style="color: {{ rack.role.color|fgcolor }}; background-color: #{{ rack.role.color }}">{{ rack.role }}</span>
                          {% endif %}
                          {% if rack.facility_id %}
                              <br /><small class="text-muted">{{ rack.facility_id }}</small>
                          {% endif %}
                      </div>
                      {% include 'dcim/inc/rack_elevation.html' with object=rack face=rack_face %}
                      <div class="clearfix"></div>
                      <div class="text-center">
                          <strong><a href="{% url 'dcim:rack' pk=rack.pk %}">{{ rack.name }}</a></strong>
                          {% if rack.facility_id %}
                              <small class="text-muted">({{ rack.facility_id }})</small>
                          {% endif %}
                      </div>
                  </div>
                  </div>
              {% endfor %}
          </div>
          <br />
          {% include 'inc/paginator.html' %}
      {% else %}
          <p>No Racks Found</p>
      {% endif %}
    </div>

    {# Filter form #}
    {% if filter_form %}
      <div class="tab-pane show" id="filters-form" role="tabpanel" aria-labelledby="filters-form-tab">
        {% include 'inc/filter_list.html' %}
      </div>
    {% endif %}

  </div>
{% endblock content-wrapper %}
