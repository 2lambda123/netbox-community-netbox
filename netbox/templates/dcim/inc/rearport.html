{% load helpers %}
<tr class="rearport{% if rearport.cable.status %} success{% elif rearport.cable %} info{% endif %}">

    {# Checkbox #}
    {% if perms.dcim.change_rearport or perms.dcim.delete_rearport %}
        <td class="pk">
            <input name="pk" type="checkbox" value="{{ rearport.pk }}" />
        </td>
    {% endif %}

    {# Name #}
    <td>
        <i class="mdi mdi-fw mdi-square{% if not rearport.cable %}-outline{% endif %}"></i> {{ rearport }}
    </td>

    {# Type #}
    <td>{{ rearport.get_type_display }}</td>

    {# Positions #}
    <td>{{ rearport.positions }}</td>

    {# Description #}
    <td>{{ rearport.description|placeholder }}</td>

    {# Cable #}
    <td>
        {% if rearport.cable %}
            <a href="{{ rearport.cable.get_absolute_url }}">{{ rearport.cable }}</a>
        {% else %}
            <span class="text-muted">Not connected</span>
        {% endif %}
    </td>

    {# Actions #}
    <td class="text-right">
        {% if rearport.cable %}
            {% include 'dcim/inc/cable_toggle_buttons.html' with cable=rearport.cable %}
        {% elif perms.dcim.add_cable %}
            <a href="{% url 'dcim:rearport_connect' termination_a_id=rearport.pk %}?return_url={{ device.get_absolute_url }}" class="btn btn-success btn-xs" title="Connect">
                <i class="mdi mdi-arrow-collapse" aria-hidden="true"></i>
            </a>
        {% endif %}
        {% if perms.dcim.change_rearport %}
            <a href="{% url 'dcim:rearport_edit' pk=rearport.pk %}?return_url={{ device.get_absolute_url }}" title="Edit port" class="btn btn-info btn-xs">
                <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
            </a>
        {% endif %}
        {% if perms.dcim.delete_rearport %}
            <a href="{% url 'dcim:rearport_delete' pk=rearport.pk %}?return_url={{ device.get_absolute_url }}" title="Delete port" class="btn btn-danger btn-xs">
                <i class="mdi mdi-trash-can-outline" aria-hidden="true"></i>
            </a>
        {% endif %}
    </td>
</tr>
