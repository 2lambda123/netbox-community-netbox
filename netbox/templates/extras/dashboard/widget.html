{% load dashboard %}

<div
    class="grid-stack-item"
    gs-w="{{ widget.width }}"
    gs-h="{{ widget.height }}"
    gs-x="{{ widget.x }}"
    gs-y="{{ widget.y }}"
    gs-id="{{ widget.id }}"
>
  <div class="card grid-stack-item-content">
    <div class="card-header text-center {% if widget.color %}bg-{{ widget.color }} {% endif %}p-1">
      <div class="float-start ps-1 grid-stack-item-button invisible">
        <a href="#"
          hx-get="{% url 'extras:dashboardwidget_config' id=widget.id %}"
          hx-target="#htmx-modal-content"
          data-bs-toggle="modal"
          data-bs-target="#htmx-modal"
        ><i class="mdi mdi-cog text-gray"></i></a>
      </div>
      <div class="float-end pe-1 grid-stack-item-button invisible">
        <a href="#"
          hx-get="{% url 'extras:dashboardwidget_delete' id=widget.id %}"
          hx-target="#htmx-modal-content"
          data-bs-toggle="modal"
          data-bs-target="#htmx-modal"
        ><i class="mdi mdi-close text-gray"></i></a>
      </div>
      {% if widget.title %}
      <h6 class="card-header text-center">
        {% if widget.icon_name %}<i class="mdi mdi-{{ widget.icon_name }}"></i>{% endif %}
        <span class="ms-1">{{ widget.title }}</span>
      </h6>
      {% endif %}
    </div>
    <div class="card-body overflow-auto mb-4">
      {% render_widget widget %}
    </div>
  </div>
</div>