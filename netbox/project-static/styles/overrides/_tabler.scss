// Disable font-ligatures for Chromium based browsers
// Chromium requires `font-variant-ligatures: none` in addition to `font-feature-settings "liga" 0`
* {
  font-feature-settings: "liga" 0;
  font-variant-ligatures: none;
}

// Restore default foreground & background colors for <pre> blocks
pre {
  background-color: transparent;
  color: inherit;
}

// Buttons
.btn {
  // Tabler sets display: flex
  display: inline-block;
}
.btn-sm {
  // $border-radius-sm (2px) is too small
  border-radius: $border-radius;
}

// Tabs
.nav-tabs {
  .nav-link {
    // Tabler sets display: flex
    display: inline-block;
  }
}

// Dropdown items
.dropdown-item {
  // Tabler sets display: flex
  display: inline-block;;
}

table th.orderable a {
  color: var(--#{$prefix}body-color);
}

// Override background color alpha value
[data-bs-theme=dark] ::selection {
  background-color: rgba(var(--tblr-primary-rgb),.48)
}

// Dark mode colors
@if $enable-dark-mode {
  @include color-mode(dark, true) {
    --#{$prefix}alert-color: darken(var(--#{$prefix}warning),10%);
    --#{$prefix}link-color: #{$bright-teal};
    --#{$prefix}link-color-rgb: 0,242,212;
    --#{$prefix}link-hover-color-rgb: 0,242,212;
    --#{$prefix}secondary: #{$gray-400};
    --#{$prefix}primary: #{$bright-teal};
    --#{$prefix}primary-fg: #{$rich-black};
    --#{$prefix}primary-rgb: 0,242,212;
    --#{$prefix}btn-active-color: #{$rich-black};
  }
}

// Slightly increase alert contrast between bg and text
.alert {
  background: var(--#{$prefix}bg-surface);
}

// Altering background colors
.page, .page-tabs .nav-tabs .nav-link.active {
  background-color: var(--#{$prefix}bg-surface-tertiary)!important;
}
.page-body .card .card-header {
  background: var(--tblr-bg-surface-secondary)!important;
}

.footer .text-primary {
  color: $rich-black!important;
}

// Add button focus state
.btn:focus {
  border: 1px solid var(--tblr-primary-fg);
  outline: 2px solid var(--tblr-primary)!important;
}

// Fix secondary combo button contrast
.btn-outline-secondary {
  &.active {
    color: var(--tblr-primary-fg);
  }
  &:hover {
    color: var(--tblr-primary-fg);
  }
}

// Change text color based on button color
@each $color, $value in $theme-colors {
  .btn-#{$color} {
    @if $color == 'primary'{
      --#{$prefix}btn-color: var(--#{$prefix}#{$color}-fg);
      --#{$prefix}btn-hover-color: var(--#{$prefix}#{$color}-fg);
      --#{$prefix}btn-active-color: var(--#{$prefix}#{$color}-fg);
    } @else {
      --#{$prefix}btn-color: inherit;
      --#{$prefix}btn-hover-color: $gray-800;
      --#{$prefix}btn-active-color: $gray-800;
    }
  }
}

// Adjust text color for new green
.text-bg-green,.text-bg-success,.progress-bar {
  color: $rich-black!important;
}
.bg-green {
  a, i, span {
    color: $rich-black!important;
  }
}

// Dark mode overrides
body[data-bs-theme=dark] {

  // Background colors to match brand colors
  background-color: $rich-black;
  .navbar, .page-header {
    background-color: $rich-black;
  }
  .page, .page-tabs .nav-tabs .nav-link.active {
    background-color: $rich-black-light!important;
  }

  // Adjust dark table link color without affecting buttons and badges
  table {
    a {
      color: $bright-teal;

      &.dropdown-item {
        color: inherit;
      }
    }
    .badge a {
      color: inherit;
    }
    .btn {
      // color: var(--#{$prefix}body-color);
      color: $rich-black;
    }
  }

  // Adjusting text colors
  .text- {
    &bg-primary {
      color: $rich-black!important;
    }
    &muted {
      color: var(--#{$prefix}secondary-color) !important;
    }
    &secondary {
      color: $gray-400!important;
    }
  }
  .footer .text-primary {
    color: white!important;
  }
}
